#: import hex kivy.utils.get_color_from_hex
#: import FadeTransition kivy.uix.screenmanager.FadeTransition
#: import settings settings
ScreenManagement:
    transition: FadeTransition()
    ListsScreen:
    EntriesScreen:
    SettingsScreen:

<ListsScreen>:
    name: 'lists_screen'
    # Main
    BoxLayout:
        orientation: 'vertical'
        #space_x: self.size[0]/3
        canvas.before:
            Color:
                rgba: hex(settings.background_colour)
            Rectangle:
                size: self.size
                pos: self.pos

        # Upper Panel
        BoxLayout:
            orientation: 'horizontal'
            size_hint_y: None
            height: 50
            size_hint: 1, 0.1

            Button:
                text: 'Settings'
                on_press: root.manager.current = "settings_screen"
            Button:
                text: 'Edit'
            Button:
                text: 'Search'


        # Lists panel
        BoxLayout:
            orientation: 'horizontal'
            padding: 10
            # Lists buttons
            BoxLayout:
                orientation: 'vertical'
                #padding: lists_window.space_x, 10
                size_hint_y: None
                size_hint: 0.8, 1
                Button:
                    text: root.Lists_list[0][1]
                    font_size: settings.font_size
                    height: 40
                    on_press:
                        root.set_list_id_pressed(0)
                        root.manager.current = "entries_screen"


                Button:
                    text: root.Lists_list[1][1]
                    font_size: settings.font_size
                    height: 40
                    on_press:
                        root.set_list_id_pressed(1)
                        root.manager.current = "entries_screen"

                Button:
                    text: root.Lists_list[2][1]
                    font_size: settings.font_size
                    height: 40
                    on_release:
                        root.set_list_id_pressed(2)
                        root.manager.current = "entries_screen"

                Button:
                    text: root.Lists_list[3][1]
                    font_size: settings.font_size
                    height: 40
                    on_press:
                        root.set_list_id_pressed(3)
                        root.manager.current = "entries_screen"



            # Lists counters
            BoxLayout:
                orientation: 'vertical'
                #padding: lists_window.space_x, 10
                size_hint: 0.2, 1
                Label:
                    text: root.read_entries_count(0)
                    font_size: settings.font_size
                    height: 40
                Label:
                    text: root.read_entries_count(1)
                    font_size: settings.font_size
                    height: 40
                Label:
                    text: root.read_entries_count(2)
                    font_size: settings.font_size
                    height: 40
                Label:
                    text: root.read_entries_count(3)
                    font_size: settings.font_size
                    height: 40

        # Bottom panel
        BoxLayout:
            orientation: 'vertical'
            size_hint_y: None
            height: 50
            size_hint: 1, 0.1
            Button:
                text: 'Create new List'
                font_size: settings.font_size

<EntriesScreen>:
    name: 'entries_screen'
    orientation: 'vertical'
    on_pre_enter: root.add_all_entries()
    on_pre_leave: root.remove_all_entries()
    canvas.before:
        Color:
            rgba: hex(settings.background_colour)
        Rectangle:
            size: self.size
            pos: self.pos
    # Root
    BoxLayout:
        orientation: 'vertical'

        # Upper panel
        BoxLayout:
            orientation: 'horizontal'
            size_hint_y: None
            height: 50
            size_hint: 1, 0.1

            Button:
                text: 'Settings'
                on_press: root.manager.current = "settings_screen"
            Button:
                text: 'Edit'
                on_press: root.add_entrie(str(root.Entries_list[0][1]), root.Entries_list[0][2])
            Button:
                id: search_id
                text: 'Search'
                on_press: root.add_all_entries()

         # middle panel
        BoxLayout:
            orientation: 'vertical'
            size_hint_y: None
            size_hint: 1, 0.8

            TextInput:
                id: input_id
                size_hint_y: None
                size_hint: 1, 0.1
                text: 'Add new'
                is_focusable: True
                focus: True
                multiline: False
                write_tab: False
                on_focus: self.text = ""
                on_text_validate:
                    input_id.focus = True
                    root.create_entrie('id',self.text)

            # Entries Panel
            BoxLayout:
                orientation: 'vertical'
                id: entries_panel_id

        # Bottom Panel
        BoxLayout:
            orientation: 'vertical'
            size_hint_y: None
            height: 50
            size_hint: 1, 0.1
            Button:
                text: 'Back'
                on_press: root.manager.current = "lists_screen"

<SettingsScreen>:
    name: 'settings_screen'
    orientation: 'vertical'
    #space_x: self.size[0]/3
    canvas.before:
        Color:
            rgba: hex(settings.background_colour)
        Rectangle:
            size: self.size
            pos: self.pos
    # Root
    BoxLayout:
        orientation: 'vertical'
        spacing: 10
        Button:
            text: 'App version 0.1.2'
            font_size: settings.font_size
        Button:
            text: 'Back'
            font_size: settings.font_size
            on_press: root.manager.current = "lists_screen"

